{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{% static 'home/profile.css' %}">
    <style>
        /* Add the notification CSS here */
        .notification {
            background-color: #ff9800; /* Background color */
            color: white; /* Text color */
            padding: 15px; /* Space inside the notification */
            position: fixed; /* Fixed position */
            top: 0; /* Align to the top of the page */
            left: 0; /* Align to the left edge of the page */
            width: 100%; /* Full width */
            z-index: 1000; /* Make sure it's on top of other content */
            text-align: center; /* Center text */
            font-weight: bold; /* Bold text */
            display: none; /* Initially hidden */
            opacity: 0; /* Initially transparent */
            transition: opacity 0.5s ease-in-out; /* Fade in/out transition */
        }

        .notification.show {
            display: block; /* Show the notification */
            opacity: 1; /* Fully opaque */
        }

        .notification .close-btn {
            position: absolute; /* Position close button absolutely within the notification */
            top: 10px; /* Space from the top */
            right: 10px; /* Space from the right */
            cursor: pointer; /* Cursor indicates clickable */
            font-size: 18px; /* Size of the font */
            color: white; /* Color of the font */
        }
    </style>
</head>
<body>
    {% include 'includes/header.html' %}

    {% if error_message %}
        <div class="notification" id="notification">
            <span class="close-btn" id="close-btn">&times;</span>
            {{ error_message }}
        </div>
    {% endif %}

    <div class="prof-outer">
        <div class="prof-mid">
            <form action="{% url 'profile' %}" method="POST" class="prof-form">
                {% csrf_token %}
                <div class="lab">
                    <label> &#129466 How do you identify yourself?</label>
                </div>
                <div class="roling">
                    <select name="role">
                        {% for category in categories %}
                            {% if category == role %}
                                <option selected>{{ category }}</option>
                            {% else %}
                                <option>{{ category }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                </div>
                <div>
                    <button class="prof-button">
                        Save &#10150
                    </button>
                </div>
            </form>
        </div>
    </div>
    {% include 'includes/footer.html' %}

    <script>
        // JavaScript to handle the notification display and close button
        window.onload = function() {
            var notification = document.getElementById('notification');
            var closeBtn = document.getElementById('close-btn');

            if (notification) {
                notification.classList.add('show');
                setTimeout(function() {
                    notification.classList.remove('show');
                }, 5000); // Notification disappears after 5 seconds

                closeBtn.onclick = function() {
                    notification.classList.remove('show');
                };
            }
        };
    </script>
</body>
</html>
